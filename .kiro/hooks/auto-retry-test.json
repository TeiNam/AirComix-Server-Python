{
  "name": "Auto Retry Test",
  "description": "테스트가 working 상태에 멈춰있으면 자동으로 재시도합니다",
  "trigger": {
    "type": "manual"
  },
  "actions": [
    {
      "type": "command",
      "command": "source .venv/bin/activate && timeout 30 python -m pytest tests/test_integration.py -v --tb=short || echo 'Test timeout or failed, retrying...'",
      "description": "첫 번째 테스트 시도 (30초 타임아웃)"
    },
    {
      "type": "wait",
      "duration": 2000,
      "description": "2초 대기"
    },
    {
      "type": "command", 
      "command": "source .venv/bin/activate && timeout 45 python -m pytest tests/test_integration.py -v --tb=short || echo 'Second attempt timeout or failed, trying once more...'",
      "description": "두 번째 테스트 시도 (45초 타임아웃)"
    },
    {
      "type": "wait",
      "duration": 3000,
      "description": "3초 대기"
    },
    {
      "type": "command",
      "command": "source .venv/bin/activate && timeout 60 python -m pytest tests/test_integration.py -v --tb=short --maxfail=5 || echo 'Final attempt completed with timeout or failure'",
      "description": "최종 테스트 시도 (60초 타임아웃, 최대 5개 실패까지)"
    }
  ],
  "enabled": true
}